<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Starwhale Dream Journal</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <audio id="bgMusic" src="rainyday.mp3" loop autoplay></audio>
    <div class="top-bar">
        <button class="glow-btn" id="exportTxt"> Export as TXT</button>
        <button class="glow-btn" id="exportJson"> Export as JSON</button>
        <button class="glow-btn" onclick="window.location.href='index.html'">Return to Oracle</button>
    </div>
    <main class="journal-container">
        <h1>Your Dream Journal</h1>
        <div id="journalEntries" class="card-grid"></div>
    </main>
    <script src="journal.js"></script>
    <script>
            const music = document.getElementById('bgMusic');
            music.volume = localStorage.getItem('musicVolume') || 0.2;

           
            music.currentTime = parseFloat(localStorage.getItem('musicTime')) || 0;

            
            setInterval(() => {
            localStorage.setItem('musicTime', music.currentTime);
            }, 2000);

            
            const toggleBtn = document.createElement('button');
            toggleBtn.textContent = localStorage.getItem('musicMuted') === 'true' ? 'ðŸ”‡' : 'ðŸ”Š';
            toggleBtn.classList.add('music-toggle');
            toggleBtn.style.position = 'fixed';
            toggleBtn.style.top = '10px';
            toggleBtn.style.right = '10px';
            toggleBtn.style.zIndex = '999';
            document.body.appendChild(toggleBtn);

            toggleBtn.addEventListener('click', () => {
            const muted = music.muted = !music.muted;
            toggleBtn.textContent = muted ? 'ðŸ”‡' : 'ðŸ”Š';
            localStorage.setItem('musicMuted', muted);
            });
        </script>
</body>
</html>